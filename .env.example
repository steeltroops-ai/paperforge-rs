# =====================================
# PaperForge-rs Environment Configuration
# =====================================
# Copy this file to .env and adjust values as needed.
# Variables are prefixed with APP__ and use double underscores for hierarchy.

# -------------------------------------
# Server Configuration
# -------------------------------------
# APP__SERVER__HOST=0.0.0.0
# APP__SERVER__PORT=8080
# APP__SERVER__REQUEST_TIMEOUT_SECS=30
# APP__SERVER__SHUTDOWN_TIMEOUT_SECS=30
# APP__SERVER__MAX_CONCURRENT_REQUESTS=100

# -------------------------------------
# Database Configuration
# -------------------------------------
APP__DATABASE__URL=postgres://postgres:password@localhost:5432/paperforge
# Optional read replica
# APP__DATABASE__READ_URL=postgres://postgres:password@localhost:5432/paperforge_replica
# APP__DATABASE__MAX_CONNECTIONS=50
# APP__DATABASE__MIN_CONNECTIONS=5
# APP__DATABASE__CONNECT_TIMEOUT_SECS=10
# APP__DATABASE__IDLE_TIMEOUT_SECS=300

# -------------------------------------
# Redis Configuration
# -------------------------------------
APP__REDIS__URL=redis://localhost:6379
# APP__REDIS__POOL_SIZE=20
# APP__REDIS__DEFAULT_TTL_SECS=300

# -------------------------------------
# Embedding Service Configuration
# -------------------------------------
# Provider: openai, anthropic, local
APP__EMBEDDING__PROVIDER=openai
APP__EMBEDDING__API_KEY=sk-your-openai-key
# APP__EMBEDDING__API_BASE=https://api.openai.com/v1
# APP__EMBEDDING__MODEL=text-embedding-ada-002
# APP__EMBEDDING__DIMENSION=768
# APP__EMBEDDING__TIMEOUT_SECS=30
# APP__EMBEDDING__MAX_RETRIES=3
# APP__EMBEDDING__BATCH_SIZE=10

# -------------------------------------
# Queue Configuration (AWS SQS)
# -------------------------------------
# APP__QUEUE__INGESTION_QUEUE_URL=https://sqs.region.amazonaws.com/123456789012/paperforge-ingestion
# APP__QUEUE__EMBEDDING_QUEUE_URL=https://sqs.region.amazonaws.com/123456789012/paperforge-embedding
# APP__QUEUE__DLQ_URL=https://sqs.region.amazonaws.com/123456789012/paperforge-dlq
# APP__QUEUE__BATCH_SIZE=10
# APP__QUEUE__POLL_TIMEOUT_SECS=20
# APP__QUEUE__VISIBILITY_TIMEOUT_SECS=300

# -------------------------------------
# Authentication Configuration
# -------------------------------------
APP__AUTH__JWT_SECRET=your-secret-key-at-least-32-chars
# APP__AUTH__JWT_EXPIRATION_SECS=3600
# APP__AUTH__API_KEY_HEADER=Authorization
# APP__AUTH__TENANT_HEADER=X-Tenant-ID
# APP__AUTH__REQUEST_ID_HEADER=X-Request-ID

# -------------------------------------
# Observability Configuration
# -------------------------------------
# Log level: debug, info, warn, error
APP__OBSERVABILITY__LOG_LEVEL=info
APP__OBSERVABILITY__JSON_LOGGING=true
# APP__OBSERVABILITY__OTEL_ENDPOINT=http://localhost:4317
# APP__OBSERVABILITY__METRICS_PORT=9090
# APP__OBSERVABILITY__SERVICE_NAME=paperforge

# -------------------------------------
# Rate Limiting Configuration
# -------------------------------------
APP__RATE_LIMIT__ENABLED=true
APP__RATE_LIMIT__REQUESTS_PER_SECOND=50
APP__RATE_LIMIT__BURST=100
